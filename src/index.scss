$background: #E0E0E0;
$black: #212121;
$darkGrey: #4e4e4e;
$lightGrey: #aeaeae;
$white: #ffffff;
$offWhite: #f1f1f1;
$accent: #00BCD4;
$dark: #0D47A1;
$box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1);
$underline-avoider: 0.03em 0 $background, -0.03em 0 $background, 0 0.03em $background, 0 -0.03em $background, 0.06em 0 $background, -0.06em 0 $background, 0.09em 0 $background, -0.09em 0 $background, 0.12em 0 $background, -0.12em 0 $background, 0.15em 0 $background, -0.15em 0 $background;
$sans-serif: "Helvetica Neue", "Calibri Light", Roboto, sans-serif;
$container: 450px;
@mixin panel() {
    position       : relative;
    display        : flex;
    align-items    : center;
    justify-content: center;
    height         : 100vh;
    width          : 100%;
    margin         : 0 auto;
    padding        : 0.5em 0.8em;
    box-sizing     : border-box;
}
@mixin shard($position: top) {
    position: relative;
    overflow: hidden;

    &:after {
        content   : ' ';
        background: $white;
        display   : block;
        position  : absolute;
        @if $position == top {
            top: -90%;
        }
        @else {
            bottom: -90%;
        }
        left      : -50%;
        height    : 100%;
        width     : 200%;
        transform : rotate(-10deg);
        box-shadow: $box-shadow;
    }
}

body,
html {
    padding               : 0;
    margin                : 0;
    background            : $white;
    color                 : $black;
    font-family           : $sans-serif;
    overflow-x            : hidden;
    -webkit-font-smoothing: antialiased;
}

h1,
h2,
h3,
h5 {
    margin     : 0;
    font-family: 'Libre Baskerville';
    font-weight: normal;
}

h1 {
    font-size: 2em;
}

p {
    padding    : 0 0.1em;
    box-sizing : border-box;
    text-align : justify;
    line-height: 1.7em;
    color      : $darkGrey;
    user-select: none;
}

a {
    position                   : relative;
    color                      : $darkGrey;
    text-decoration            : none;
    z-index                    : 1;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    -webkit-tap-highlight-color: transparent;
}

header {
    @include panel();
    @include shard(top);
    background: $background;
    z-index: 1;

    &:after {
        animation-name           : reveal;
        animation-duration       : 0.8s;
        animation-timing-function: ease-out;
        animation-iteration-count: 1;
        z-index: 10;
    }

    article {
        width       : 95%;
        max-width   : $container;
        border-right: 1px solid $lightGrey;

        p {
            text-align: left;
            padding   : 0 0.1em;
            box-sizing: border-box;
        }

        a {
            text-shadow    : $underline-avoider;
            text-decoration: none;
            z-index        : 1;
            user-select    : none;

            &:before {
                content   : ' ';
                position  : absolute;
                display   : inline-block;
                bottom    : 0;
                left      : 0.5%;
                width     : 99%;
                height    : 1px;
                background: $accent;
                z-index   : -1;
            }
        }

        &:before {
            content                  : '';
            position                 : absolute;
            right                    : 0;
            top                      : 0;
            height                   : 100%;
            width                    : 1px;
            color                    : $lightGrey;
            animation-name           : slideDown;
            animation-duration       : 2.5s;
            animation-iteration-count: 1;
        }
    }
}

main {
    @include panel();
    background: $dark;

    article {
        width    : 95%;
        max-width: $container;
    }

    h2 {
        color    : darken($dark, 10);
        font-size: 3em;
        margin   : 0;
        padding  : 0;
    }

    p {
        color      : $white;
        margin-top : 0.2em;
        padding-top: 0;
    }
}

footer {
    @include panel();
    background: $background;

    article {
        width    : 95%;
        max-width: $container;
    }

    h2 {
        text-align: center;
        font-size : 2.5em;
        margin    : 0;
    }

    ul {
        padding   : 0;
        width     : 100%;
        overflow  : hidden;
        box-sizing: border-box;
        border-left: 1px solid $accent;
    }

    li {
        display   : block;
        margin    : 3.6em auto;
        width     : 100%;
        list-style: none;
        text-align: center;

        &:nth-child(even) {
            a {
                &:before {
                    transform: rotate(-10deg);
                }
            }
        }
    }

    a {
        display  : block;
        width    : 100%;
        position : relative;
        font-size: 1.1em;
        z-index  : 1;

        &:before {
            content   : ' ';
            position  : absolute;
            top       : -72%;
            width     : 200%;
            height    : 250%;
            left      : -50%;
            background: transparentize($lightGrey, 0.5);
            z-index   : -1;
            transform : rotate(10deg);
            transition: background 0.4s ease;
        }

        &:hover {
            &:before {
                background: $lightGrey;
            }
        }
    }
}

.context-menu {
    position  : absolute;
    display   : inline-block;
    margin    : 0;
    padding   : 0.1em;
    box-sizing: border-box;
    min-width : 150px;
    background: $offWhite;
    box-shadow: $box-shadow;
    z-index   : 10;

    a {
        display  : block;
        padding  : 0.6em 0.4em;
        font-size: 0.9em;

        &:hover {
            background: $accent;
            color     : $white;
        }
    }

    .closed {
        visibility: hidden;
        opacity   : 0;
    }

    .open {
        visibility: visible;
        opacity   : 1;
    }
}
@keyframes reveal {
    0% {
        transform: rotate(-20deg) scale(10);
    }

    100% {
        transform: rotate(-10deg) scale(1);
    }
}
@keyframes slideDown {
    0% {
        transform: scaleY(0);
    }

    50% {
        transform: scale(1);
    }

    100% {
        transform: scaleY(1);
    }
}
